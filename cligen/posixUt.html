<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>cligen/posixUt</title>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css">

<!-- JS -->
<script type="text/javascript" src="../dochack.js"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">cligen/posixUt</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="../theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#FileKind" title="FileKind = enum             ## Helper enum for `match` st_mode/stx_mode against file kinds
  fkFile = &quot;file&quot;, fkDir = &quot;dir&quot;, fkLink = &quot;link&quot;, fkBlk = &quot;blk&quot;, fkChr = &quot;chr&quot;,
  fkPipe = &quot;pipe&quot;, fkSock = &quot;sock&quot;">FileKind</a></li>
<li><a class="reference" href="#PathId" title="PathId = tuple[dev: Dev, ino: Ino]">PathId</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#9" id="59">Lets</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#AT_EACCESS" title="AT_EACCESS {.inject.} = locAT_EACCESS">AT_EACCESS</a></li>
<li><a class="reference" href="#AT_FDCWD" title="AT_FDCWD {.inject.} = locAT_FDCWD">AT_FDCWD</a></li>
<li><a class="reference" href="#AT_REMOVEDIR" title="AT_REMOVEDIR {.inject.} = locAT_REMOVEDIR">AT_REMOVEDIR</a></li>
<li><a class="reference" href="#AT_SYMLINK_FOLLOW" title="AT_SYMLINK_FOLLOW {.inject.} = locAT_SYMLINK_FOLLOW">AT_SYMLINK_FOLLOW</a></li>
<li><a class="reference" href="#AT_SYMLINK_NOFOLLOW" title="AT_SYMLINK_NOFOLLOW {.inject.} = locAT_SYMLINK_NOFOLLOW">AT_SYMLINK_NOFOLLOW</a></li>
<li><a class="reference" href="#MADV_DONTNEED" title="MADV_DONTNEED {.inject.} = locPOSIX_MADV_DONTNEED">MADV_DONTNEED</a></li>
<li><a class="reference" href="#MADV_NORMAL" title="MADV_NORMAL {.inject.} = locPOSIX_MADV_NORMAL">MADV_NORMAL</a></li>
<li><a class="reference" href="#MADV_RANDOM" title="MADV_RANDOM {.inject.} = locPOSIX_MADV_RANDOM">MADV_RANDOM</a></li>
<li><a class="reference" href="#MADV_SEQUENTIAL" title="MADV_SEQUENTIAL {.inject.} = locPOSIX_MADV_SEQUENTIAL">MADV_SEQUENTIAL</a></li>
<li><a class="reference" href="#MADV_WILLNEED" title="MADV_WILLNEED {.inject.} = locPOSIX_MADV_WILLNEED">MADV_WILLNEED</a></li>
<li><a class="reference" href="#strftimeCodes" title="strftimeCodes = {'a', 'A', 'b', 'B', 'c', 'C', 'd', 'D', 'e', 'E', 'F', 'G',
                 'g', 'h', 'H', 'I', 'j', 'k', 'l', 'm', 'M', 'n', 'O', 'p',
                 'P', 'r', 'R', 's', 'S', 't', 'T', 'u', 'U', 'V', 'w', 'W',
                 'x', 'X', 'y', 'Y', 'z', 'Z', '+', '1', '2', '3', '4', '5',
                 '6', '7', '8', '9'}">strftimeCodes</a></li>
<li><a class="reference" href="#UTIME_NOW" title="UTIME_NOW {.inject.} = locUTIME_NOW">UTIME_NOW</a></li>
<li><a class="reference" href="#UTIME_OMIT" title="UTIME_OMIT {.inject.} = locUTIME_OMIT">UTIME_OMIT</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#10" id="60">Consts</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#AT_EMPTY_PATH" title="AT_EMPTY_PATH = 0x00001000">AT_EMPTY_PATH</a></li>
<li><a class="reference" href="#AT_NO_AUTOMOUNT" title="AT_NO_AUTOMOUNT = 0x00000800">AT_NO_AUTOMOUNT</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">$
  <li><a class="reference" href="#%24%2CStat" title="`$`(st: Stat): string">`$`(st: Stat): string</a></li>
<li><a class="reference" href="#%24%2CTimespec" title="`$`(x: Timespec): string">`$`(x: Timespec): string</a></li>

</ul>
<ul class="simple nested-toc-section">-
  <li><a class="reference" href="#-%2CTimespec%2CTimespec" title="`-`(a, b: Timespec): int">`-`(a, b: Timespec): int</a></li>

</ul>
<ul class="simple nested-toc-section"><
  <li><a class="reference" href="#%3C%2CTimespec%2CTimespec" title="`&lt;`(a, b: Timespec): bool">`&lt;`(a, b: Timespec): bool</a></li>

</ul>
<ul class="simple nested-toc-section"><=
  <li><a class="reference" href="#%3C%3D%2CTimespec%2CTimespec" title="`&lt;=`(a, b: Timespec): bool">`&lt;=`(a, b: Timespec): bool</a></li>

</ul>
<ul class="simple nested-toc-section">==
  <li><a class="reference" href="#%3D%3D%2CPathId%2CPathId" title="`==`(a, b: PathId): bool">`==`(a, b: PathId): bool</a></li>

</ul>
<ul class="simple nested-toc-section">argHelp
  <li><a class="reference" href="#argHelp%2CTimespec%2CArgcvtParams" title="argHelp(dfl: Timespec; a: var ArgcvtParams): seq[string]">argHelp(dfl: Timespec; a: var ArgcvtParams): seq[string]</a></li>

</ul>
<ul class="simple nested-toc-section">argParse
  <li><a class="reference" href="#argParse%2CTimespec%2CTimespec%2CArgcvtParams" title="argParse(dst: var Timespec; dfl: Timespec; a: var ArgcvtParams): bool">argParse(dst: var Timespec; dfl: Timespec; a: var ArgcvtParams): bool</a></li>

</ul>
<ul class="simple nested-toc-section">cmp
  <li><a class="reference" href="#cmp%2CTimespec%2CTimespec" title="cmp(a, b: Timespec): int">cmp(a, b: Timespec): int</a></li>

</ul>
<ul class="simple nested-toc-section">dropPrivilegeTo
  <li><a class="reference" href="#dropPrivilegeTo%2Cstring%2Cstring" title="dropPrivilegeTo(newUser, newGroup: string; err = stderr): bool">dropPrivilegeTo(newUser, newGroup: string; err = stderr): bool</a></li>

</ul>
<ul class="simple nested-toc-section">dtNs
  <li><a class="reference" href="#dtNs%2Cint" title="dtNs(t0: int; clockId = CLOCK_REALTIME): int">dtNs(t0: int; clockId = CLOCK_REALTIME): int</a></li>

</ul>
<ul class="simple nested-toc-section">faccessat
  <li><a class="reference" href="#faccessat%2Ccint%2Ccstring%2Ccint%2Ccint" title="faccessat(dirfd: cint; path: cstring; mode: cint; flags: cint): cint">faccessat(dirfd: cint; path: cstring; mode: cint; flags: cint): cint</a></li>

</ul>
<ul class="simple nested-toc-section">fchmodat
  <li><a class="reference" href="#fchmodat%2Ccint%2Ccstring%2CMode%2Ccint" title="fchmodat(dirfd: cint; path: cstring; mode: Mode; flags: cint): cint">fchmodat(dirfd: cint; path: cstring; mode: Mode; flags: cint): cint</a></li>

</ul>
<ul class="simple nested-toc-section">fchownat
  <li><a class="reference" href="#fchownat%2Ccint%2Ccstring%2CUid%2CGid%2Ccint" title="fchownat(dirfd: cint; path: cstring; owner: Uid; group: Gid; flags: cint): cint">fchownat(dirfd: cint; path: cstring; owner: Uid; group: Gid; flags: cint): cint</a></li>

</ul>
<ul class="simple nested-toc-section">fileTime
  <li><a class="reference" href="#fileTime%2CStat%2Cstring" title="fileTime(st: Stat; code: string): int">fileTime(st: Stat; code: string): int</a></li>
<li><a class="reference" href="#fileTime%2CStat%2Cchar%2Cint" title="fileTime(st: Stat; tim: char; dir: int): int">fileTime(st: Stat; tim: char; dir: int): int</a></li>

</ul>
<ul class="simple nested-toc-section">fileTimeParse
  <li><a class="reference" href="#fileTimeParse%2Cstring" title="fileTimeParse(code: string): tuple[tim: char, dir: int]">fileTimeParse(code: string): tuple[tim: char, dir: int]</a></li>

</ul>
<ul class="simple nested-toc-section">findAssociated
  <li><a class="reference" href="#findAssociated%2CcstringArray%2Cstring" title="findAssociated(av: cstringArray; parentBase = &quot;etc/foo&quot;): string">findAssociated(av: cstringArray; parentBase = &quot;etc/foo&quot;): string</a></li>

</ul>
<ul class="simple nested-toc-section">fstatat
  <li><a class="reference" href="#fstatat%2Ccint%2Ccstring%2CStat%2Ccint" title="fstatat(dirfd: cint; path: cstring; stx: var Stat; flags: cint): cint">fstatat(dirfd: cint; path: cstring; stx: var Stat; flags: cint): cint</a></li>

</ul>
<ul class="simple nested-toc-section">futimens
  <li><a class="reference" href="#futimens%2Ccint%2Carray%5B%2CTimespec%5D" title="futimens(fd: cint; times: array[2, Timespec]): cint">futimens(fd: cint; times: array[2, Timespec]): cint</a></li>

</ul>
<ul class="simple nested-toc-section">futimesat
  <li><a class="reference" href="#futimesat%2Ccint%2Ccstring%2Carray%5B%2CTimeval%5D" title="futimesat(dirfd: cint; path: cstring; times: array[2, Timeval]): cint">futimesat(dirfd: cint; path: cstring; times: array[2, Timeval]): cint</a></li>

</ul>
<ul class="simple nested-toc-section">getCreationTimeNs
  <li><a class="reference" href="#getCreationTimeNs%2Cstring" title="getCreationTimeNs(path`gensym85: string): int">getCreationTimeNs(path`gensym85: string): int</a></li>
<li><a class="reference" href="#getCreationTimeNs%2CStat" title="getCreationTimeNs(st`gensym85: Stat): int">getCreationTimeNs(st`gensym85: Stat): int</a></li>

</ul>
<ul class="simple nested-toc-section">getDents
  <li><a class="reference" href="#getDents%2Ccint%2CStat%2Cptr.seq%5Bint8%5D%2Cptr.seq%5BIno%5D%2Cint" title="getDents(fd: cint; st: Stat; dts: ptr seq[int8] = nil; inos: ptr seq[Ino] = nil;
         avgLen = 24): seq[string]">getDents(fd: cint; st: Stat; dts: ptr seq[int8] = nil; inos: ptr seq[Ino] = nil;
         avgLen = 24): seq[string]</a></li>

</ul>
<ul class="simple nested-toc-section">getgroups
  <li><a class="reference" href="#getgroups" title="getgroups(): HashSet[Gid]">getgroups(): HashSet[Gid]</a></li>
<li><a class="reference" href="#getgroups%2CHashSet%5BGid%5D" title="getgroups(gids: var HashSet[Gid])">getgroups(gids: var HashSet[Gid])</a></li>

</ul>
<ul class="simple nested-toc-section">getLastAccTimeNs
  <li><a class="reference" href="#getLastAccTimeNs%2Cstring" title="getLastAccTimeNs(path`gensym83: string): int">getLastAccTimeNs(path`gensym83: string): int</a></li>
<li><a class="reference" href="#getLastAccTimeNs%2CStat" title="getLastAccTimeNs(st`gensym83: Stat): int">getLastAccTimeNs(st`gensym83: Stat): int</a></li>

</ul>
<ul class="simple nested-toc-section">getLastModTimeNs
  <li><a class="reference" href="#getLastModTimeNs%2Cstring" title="getLastModTimeNs(path`gensym84: string): int">getLastModTimeNs(path`gensym84: string): int</a></li>
<li><a class="reference" href="#getLastModTimeNs%2CStat" title="getLastModTimeNs(st`gensym84: Stat): int">getLastModTimeNs(st`gensym84: Stat): int</a></li>

</ul>
<ul class="simple nested-toc-section">getTime
  <li><a class="reference" href="#getTime" title="getTime(clockId = CLOCK_REALTIME): Timespec">getTime(clockId = CLOCK_REALTIME): Timespec</a></li>

</ul>
<ul class="simple nested-toc-section">getTmNs
  <li><a class="reference" href="#getTmNs" title="getTmNs(clockId = CLOCK_REALTIME): int">getTmNs(clockId = CLOCK_REALTIME): int</a></li>

</ul>
<ul class="simple nested-toc-section">groupIds
  <li><a class="reference" href="#groupIds" title="groupIds(): Table[string, Gid]">groupIds(): Table[string, Gid]</a></li>

</ul>
<ul class="simple nested-toc-section">groups
  <li><a class="reference" href="#groups" title="groups(): Table[Gid, string]">groups(): Table[Gid, string]</a></li>

</ul>
<ul class="simple nested-toc-section">hash
  <li><a class="reference" href="#hash%2CPathId" title="hash(x: PathId): int">hash(x: PathId): int</a></li>

</ul>
<ul class="simple nested-toc-section">initGroups
  <li><a class="reference" href="#initGroups%2Ccstring%2CGid" title="initGroups(user: cstring; group: Gid): cint">initGroups(user: cstring; group: Gid): cint</a></li>

</ul>
<ul class="simple nested-toc-section">linkat
  <li><a class="reference" href="#linkat%2Ccint%2Ccstring%2Ccint%2Ccstring%2Ccint" title="linkat(olddirfd: cint; oldpath: cstring; newdirfd: cint; newpath: cstring;
       flags: cint): cint">linkat(olddirfd: cint; oldpath: cstring; newdirfd: cint; newpath: cstring;
       flags: cint): cint</a></li>

</ul>
<ul class="simple nested-toc-section">log
  <li><a class="reference" href="#log%2CFile%2Cstring" title="log(f: File; s: string)">log(f: File; s: string)</a></li>

</ul>
<ul class="simple nested-toc-section">lstatOk
  <li><a class="reference" href="#lstatOk%2Cstring%2Cptr.Stat" title="lstatOk(path: string; st: ptr Stat = nil; err = stderr): bool">lstatOk(path: string; st: ptr Stat = nil; err = stderr): bool</a></li>

</ul>
<ul class="simple nested-toc-section">madvise
  <li><a class="reference" href="#madvise%2Cpointer%2Cint%2Ccint" title="madvise(mem: pointer; len: int; advice: cint): int">madvise(mem: pointer; len: int; advice: cint): int</a></li>

</ul>
<ul class="simple nested-toc-section">match
  <li><a class="reference" href="#match%2C%2Cset%5BFileKind%5D" title="match(m: Mode | uint16; kinds: set[FileKind]): bool">match(m: Mode | uint16; kinds: set[FileKind]): bool</a></li>

</ul>
<ul class="simple nested-toc-section">mkdirat
  <li><a class="reference" href="#mkdirat%2Ccint%2Ccstring%2CMode" title="mkdirat(dirfd: cint; path: cstring; mode: Mode): cint">mkdirat(dirfd: cint; path: cstring; mode: Mode): cint</a></li>

</ul>
<ul class="simple nested-toc-section">mknodat
  <li><a class="reference" href="#mknodat%2Ccint%2Ccstring%2CMode%2CDev" title="mknodat(dirfd: cint; path: cstring; mode: Mode; dev: Dev): cint">mknodat(dirfd: cint; path: cstring; mode: Mode; dev: Dev): cint</a></li>

</ul>
<ul class="simple nested-toc-section">nanosleep
  <li><a class="reference" href="#nanosleep%2CTimespec" title="nanosleep(delay: Timespec)">nanosleep(delay: Timespec)</a></li>

</ul>
<ul class="simple nested-toc-section">nice
  <li><a class="reference" href="#nice%2CPid%2Ccint" title="nice(pid: Pid; niceIncr: cint): int">nice(pid: Pid; niceIncr: cint): int</a></li>

</ul>
<ul class="simple nested-toc-section">ns
  <li><a class="reference" href="#ns%2CTimespec" title="ns(t: Timespec): int">ns(t: Timespec): int</a></li>

</ul>
<ul class="simple nested-toc-section">nsToTimeval
  <li><a class="reference" href="#nsToTimeval%2Cint64" title="nsToTimeval(ns: int64): Timeval">nsToTimeval(ns: int64): Timeval</a></li>

</ul>
<ul class="simple nested-toc-section">openat
  <li><a class="reference" href="#openat%2Ccint%2Ccstring%2Ccint" title="openat(dirfd: cint; path: cstring; flags: cint): cint">openat(dirfd: cint; path: cstring; flags: cint): cint</a></li>

</ul>
<ul class="simple nested-toc-section">pathId
  <li><a class="reference" href="#pathId%2Cstring" title="pathId(path: string): PathId">pathId(path: string): PathId</a></li>

</ul>
<ul class="simple nested-toc-section">pathToSelf
  <li><a class="reference" href="#pathToSelf%2CcstringArray" title="pathToSelf(av: cstringArray): string">pathToSelf(av: cstringArray): string</a></li>

</ul>
<ul class="simple nested-toc-section">readFile
  <li><a class="reference" href="#readFile%2Cstring%2Cstring%2Cptr.Stat%2Cint" title="readFile(path: string; buf: var string; st: ptr Stat = nil; perRead = 4096)">readFile(path: string; buf: var string; st: ptr Stat = nil; perRead = 4096)</a></li>

</ul>
<ul class="simple nested-toc-section">readlink
  <li><a class="reference" href="#readlink%2Cstring" title="readlink(path: string; err = stderr): string">readlink(path: string; err = stderr): string</a></li>

</ul>
<ul class="simple nested-toc-section">readlinkat
  <li><a class="reference" href="#readlinkat%2Ccint%2Ccstring%2Ccstring%2Ccsize" title="readlinkat(dirfd: cint; path: cstring; buf: cstring; bufsiz: csize): clong">readlinkat(dirfd: cint; path: cstring; buf: cstring; bufsiz: csize): clong</a></li>

</ul>
<ul class="simple nested-toc-section">reapAnyKids
  <li><a class="reference" href="#reapAnyKids%2Ccint" title="reapAnyKids(signo: cint)">reapAnyKids(signo: cint)</a></li>

</ul>
<ul class="simple nested-toc-section">recEntries
  <li><a class="reference" href="#recEntries%2C%2Cptr.Stat%2Cptr.int8%2Cint" title="recEntries(it: iterator (): string; st: ptr Stat = nil; dt: ptr int8 = nil;
           follow = false; maxDepth = 0; err = stderr): iterator (): string">recEntries(it: iterator (): string; st: ptr Stat = nil; dt: ptr int8 = nil;
           follow = false; maxDepth = 0; err = stderr): iterator (): string</a></li>

</ul>
<ul class="simple nested-toc-section">rename
  <li><a class="reference" href="#rename%2Ccstring%2Ccstring" title="rename(oldpath, newpath: cstring): cint">rename(oldpath, newpath: cstring): cint</a></li>

</ul>
<ul class="simple nested-toc-section">renameat
  <li><a class="reference" href="#renameat%2Ccint%2Ccstring%2Ccint%2Ccstring" title="renameat(olddirfd: cint; oldpath: cstring; newdirfd: cint; newpath: cstring): cint">renameat(olddirfd: cint; oldpath: cstring; newdirfd: cint; newpath: cstring): cint</a></li>

</ul>
<ul class="simple nested-toc-section">renameat2
  <li><a class="reference" href="#renameat2%2Ccint%2Ccstring%2Ccint%2Ccstring%2Ccint" title="renameat2(olddirfd: cint; oldpath: cstring; newdirfd: cint; newpath: cstring;
          flags: cint): cint">renameat2(olddirfd: cint; oldpath: cstring; newdirfd: cint; newpath: cstring;
          flags: cint): cint</a></li>

</ul>
<ul class="simple nested-toc-section">setGroups
  <li><a class="reference" href="#setGroups%2Ccsize%2Cptr.Gid" title="setGroups(size: csize; list: ptr Gid): cint">setGroups(size: csize; list: ptr Gid): cint</a></li>

</ul>
<ul class="simple nested-toc-section">st_inode
  <li><a class="reference" href="#st_inode%2Cstring" title="st_inode(path: string; err = stderr): Ino">st_inode(path: string; err = stderr): Ino</a></li>

</ul>
<ul class="simple nested-toc-section">stat2dtype
  <li><a class="reference" href="#stat2dtype%2CMode" title="stat2dtype(st_mode: Mode): int8">stat2dtype(st_mode: Mode): int8</a></li>

</ul>
<ul class="simple nested-toc-section">statOk
  <li><a class="reference" href="#statOk%2Cstring%2Cptr.Stat" title="statOk(path: string; st: ptr Stat = nil; err = stderr): bool">statOk(path: string; st: ptr Stat = nil; err = stderr): bool</a></li>

</ul>
<ul class="simple nested-toc-section">strftime
  <li><a class="reference" href="#strftime%2Cstring%2CTimespec" title="strftime(fmt: string; ts: Timespec): string">strftime(fmt: string; ts: Timespec): string</a></li>

</ul>
<ul class="simple nested-toc-section">symlinkat
  <li><a class="reference" href="#symlinkat%2Ccstring%2Ccint%2Ccstring" title="symlinkat(target: cstring; newdirfd: cint; linkpath: cstring): cint">symlinkat(target: cstring; newdirfd: cint; linkpath: cstring): cint</a></li>

</ul>
<ul class="simple nested-toc-section">system
  <li><a class="reference" href="#system%2CcstringArray" title="system(csa: cstringArray; wait = true): cint">system(csa: cstringArray; wait = true): cint</a></li>

</ul>
<ul class="simple nested-toc-section">toGidSet
  <li><a class="reference" href="#toGidSet%2Cseq%5Bstring%5D" title="toGidSet(strs: seq[string]): HashSet[Gid]">toGidSet(strs: seq[string]): HashSet[Gid]</a></li>

</ul>
<ul class="simple nested-toc-section">toUidSet
  <li><a class="reference" href="#toUidSet%2Cseq%5Bstring%5D" title="toUidSet(strs: seq[string]): HashSet[Uid]">toUidSet(strs: seq[string]): HashSet[Uid]</a></li>

</ul>
<ul class="simple nested-toc-section">unlinkat
  <li><a class="reference" href="#unlinkat%2Ccint%2Ccstring%2Ccint" title="unlinkat(dirfd: cint; path: cstring; flags: cint): cint">unlinkat(dirfd: cint; path: cstring; flags: cint): cint</a></li>

</ul>
<ul class="simple nested-toc-section">userIds
  <li><a class="reference" href="#userIds" title="userIds(): Table[string, Uid]">userIds(): Table[string, Uid]</a></li>

</ul>
<ul class="simple nested-toc-section">users
  <li><a class="reference" href="#users" title="users(): Table[Uid, string]">users(): Table[Uid, string]</a></li>

</ul>
<ul class="simple nested-toc-section">utimensat
  <li><a class="reference" href="#utimensat%2Ccint%2Ccstring%2Carray%5B%2CTimespec%5D%2Ccint" title="utimensat(dirfd: cint; path: cstring; times: array[2, Timespec]; flags: cint): cint">utimensat(dirfd: cint; path: cstring; times: array[2, Timespec]; flags: cint): cint</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#15" id="65">Iterators</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">dirEntries
  <li><a class="reference" href="#dirEntries.i%2Cstring%2Cptr.Stat%2Cptr.bool%2Cptr.int8" title="dirEntries(dir: string; st: ptr Stat = nil; canRec: ptr bool = nil;
           dt: ptr int8 = nil; err = stderr; follow = false; relative = false): string">dirEntries(dir: string; st: ptr Stat = nil; canRec: ptr bool = nil;
           dt: ptr int8 = nil; err = stderr; follow = false; relative = false): string</a></li>

</ul>
<ul class="simple nested-toc-section">paths
  <li><a class="reference" href="#paths.i%2Cseq%5Bstring%5D%2Cint%2Cstring%2Cchar%2Cptr.Stat%2Cptr.int8" title="paths(roots: seq[string]; maxDepth = 0; follow = false; file = &quot;&quot;; delim = '\n';
      err = stderr; st: ptr Stat = nil; dt: ptr int8 = nil): string">paths(roots: seq[string]; maxDepth = 0; follow = false; file = &quot;&quot;; delim = '\n';
      err = stderr; st: ptr Stat = nil; dt: ptr int8 = nil): string</a></li>

</ul>
<ul class="simple nested-toc-section">recEntries
  <li><a class="reference" href="#recEntries.i%2Cstring%2Cptr.Stat%2Cptr.int8%2Cint" title="recEntries(dir: string; st: ptr Stat = nil; dt: ptr int8 = nil; follow = false;
           maxDepth = 0; err = stderr): string">recEntries(dir: string; st: ptr Stat = nil; dt: ptr int8 = nil; follow = false;
           maxDepth = 0; err = stderr): string</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#18" id="68">Templates</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">impCint
  <li><a class="reference" href="#impCint.t%2Cstring%2Cuntyped" title="impCint(path: string; name: untyped): untyped">impCint(path: string; name: untyped): untyped</a></li>

</ul>
<ul class="simple nested-toc-section">impConst
  <li><a class="reference" href="#impConst.t%2Cuntyped%2Cstring%2Cuntyped" title="impConst(T: untyped; path: string; name: untyped): untyped">impConst(T: untyped; path: string; name: untyped): untyped</a></li>

</ul>
<ul class="simple nested-toc-section">impConstAs
  <li><a class="reference" href="#impConstAs.t%2Cuntyped%2Cstring%2C%2C" title="impConstAs(T: untyped; path: string; name, nimName): untyped">impConstAs(T: untyped; path: string; name, nimName): untyped</a></li>

</ul>
<ul class="simple nested-toc-section">localAlloc
  <li><a class="reference" href="#localAlloc.t%2C%2Ctypedesc" title="localAlloc(param; typ: typedesc)">localAlloc(param; typ: typedesc)</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    
    <div id="tocRoot"></div>
    
    <p class="module-desc"></p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="sysUt.html">sysUt</a>, <a class="reference external" href="argcvt.html">argcvt</a>, <a class="reference external" href="gcarc.html">gcarc</a>, <a class="reference external" href="osUt.html">osUt</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="FileKind">
  <dt><pre><a href="posixUt.html#FileKind"><span class="Identifier">FileKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>             <span class="Comment">## Helper enum for `match` st_mode/stx_mode against file kinds</span>
  <span class="Identifier">fkFile</span> <span class="Other">=</span> <span class="StringLit">&quot;file&quot;</span><span class="Other">,</span> <span class="Identifier">fkDir</span> <span class="Other">=</span> <span class="StringLit">&quot;dir&quot;</span><span class="Other">,</span> <span class="Identifier">fkLink</span> <span class="Other">=</span> <span class="StringLit">&quot;link&quot;</span><span class="Other">,</span> <span class="Identifier">fkBlk</span> <span class="Other">=</span> <span class="StringLit">&quot;blk&quot;</span><span class="Other">,</span> <span class="Identifier">fkChr</span> <span class="Other">=</span> <span class="StringLit">&quot;chr&quot;</span><span class="Other">,</span>
  <span class="Identifier">fkPipe</span> <span class="Other">=</span> <span class="StringLit">&quot;pipe&quot;</span><span class="Other">,</span> <span class="Identifier">fkSock</span> <span class="Other">=</span> <span class="StringLit">&quot;sock&quot;</span></pre></dt>
  <dd>
    
    Helper enum for <tt class="docutils literal"><span class="pre"><span class="Identifier">match</span></span></tt> st_mode/stx_mode against file kinds
    
  </dd>
</div>
<div id="PathId">
  <dt><pre><a href="posixUt.html#PathId"><span class="Identifier">PathId</span></a> <span class="Other">=</span> <span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">dev</span><span class="Other">:</span> <span class="Identifier">Dev</span><span class="Other">,</span> <span class="Identifier">ino</span><span class="Other">:</span> <span class="Identifier">Ino</span><span class="Other">]</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>

  </dl>
</div>
<div class="section" id="9">
  <h1><a class="toc-backref" href="#9">Lets</a></h1>
  <dl class="item">
    <div id="AT_EACCESS">
  <dt><pre><a href="posixUt.html#AT_EACCESS"><span class="Identifier">AT_EACCESS</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locAT_EACCESS</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="AT_FDCWD">
  <dt><pre><a href="posixUt.html#AT_FDCWD"><span class="Identifier">AT_FDCWD</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locAT_FDCWD</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="AT_REMOVEDIR">
  <dt><pre><a href="posixUt.html#AT_REMOVEDIR"><span class="Identifier">AT_REMOVEDIR</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locAT_REMOVEDIR</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="AT_SYMLINK_FOLLOW">
  <dt><pre><a href="posixUt.html#AT_SYMLINK_FOLLOW"><span class="Identifier">AT_SYMLINK_FOLLOW</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locAT_SYMLINK_FOLLOW</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="AT_SYMLINK_NOFOLLOW">
  <dt><pre><a href="posixUt.html#AT_SYMLINK_NOFOLLOW"><span class="Identifier">AT_SYMLINK_NOFOLLOW</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locAT_SYMLINK_NOFOLLOW</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="MADV_DONTNEED">
  <dt><pre><a href="posixUt.html#MADV_DONTNEED"><span class="Identifier">MADV_DONTNEED</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locPOSIX_MADV_DONTNEED</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="MADV_NORMAL">
  <dt><pre><a href="posixUt.html#MADV_NORMAL"><span class="Identifier">MADV_NORMAL</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locPOSIX_MADV_NORMAL</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="MADV_RANDOM">
  <dt><pre><a href="posixUt.html#MADV_RANDOM"><span class="Identifier">MADV_RANDOM</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locPOSIX_MADV_RANDOM</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="MADV_SEQUENTIAL">
  <dt><pre><a href="posixUt.html#MADV_SEQUENTIAL"><span class="Identifier">MADV_SEQUENTIAL</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locPOSIX_MADV_SEQUENTIAL</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="MADV_WILLNEED">
  <dt><pre><a href="posixUt.html#MADV_WILLNEED"><span class="Identifier">MADV_WILLNEED</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locPOSIX_MADV_WILLNEED</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="strftimeCodes">
  <dt><pre><a href="posixUt.html#strftimeCodes"><span class="Identifier">strftimeCodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="CharLit">'a'</span><span class="Other">,</span> <span class="CharLit">'A'</span><span class="Other">,</span> <span class="CharLit">'b'</span><span class="Other">,</span> <span class="CharLit">'B'</span><span class="Other">,</span> <span class="CharLit">'c'</span><span class="Other">,</span> <span class="CharLit">'C'</span><span class="Other">,</span> <span class="CharLit">'d'</span><span class="Other">,</span> <span class="CharLit">'D'</span><span class="Other">,</span> <span class="CharLit">'e'</span><span class="Other">,</span> <span class="CharLit">'E'</span><span class="Other">,</span> <span class="CharLit">'F'</span><span class="Other">,</span> <span class="CharLit">'G'</span><span class="Other">,</span>
                 <span class="CharLit">'g'</span><span class="Other">,</span> <span class="CharLit">'h'</span><span class="Other">,</span> <span class="CharLit">'H'</span><span class="Other">,</span> <span class="CharLit">'I'</span><span class="Other">,</span> <span class="CharLit">'j'</span><span class="Other">,</span> <span class="CharLit">'k'</span><span class="Other">,</span> <span class="CharLit">'l'</span><span class="Other">,</span> <span class="CharLit">'m'</span><span class="Other">,</span> <span class="CharLit">'M'</span><span class="Other">,</span> <span class="CharLit">'n'</span><span class="Other">,</span> <span class="CharLit">'O'</span><span class="Other">,</span> <span class="CharLit">'p'</span><span class="Other">,</span>
                 <span class="CharLit">'P'</span><span class="Other">,</span> <span class="CharLit">'r'</span><span class="Other">,</span> <span class="CharLit">'R'</span><span class="Other">,</span> <span class="CharLit">'s'</span><span class="Other">,</span> <span class="CharLit">'S'</span><span class="Other">,</span> <span class="CharLit">'t'</span><span class="Other">,</span> <span class="CharLit">'T'</span><span class="Other">,</span> <span class="CharLit">'u'</span><span class="Other">,</span> <span class="CharLit">'U'</span><span class="Other">,</span> <span class="CharLit">'V'</span><span class="Other">,</span> <span class="CharLit">'w'</span><span class="Other">,</span> <span class="CharLit">'W'</span><span class="Other">,</span>
                 <span class="CharLit">'x'</span><span class="Other">,</span> <span class="CharLit">'X'</span><span class="Other">,</span> <span class="CharLit">'y'</span><span class="Other">,</span> <span class="CharLit">'Y'</span><span class="Other">,</span> <span class="CharLit">'z'</span><span class="Other">,</span> <span class="CharLit">'Z'</span><span class="Other">,</span> <span class="CharLit">'+'</span><span class="Other">,</span> <span class="CharLit">'1'</span><span class="Other">,</span> <span class="CharLit">'2'</span><span class="Other">,</span> <span class="CharLit">'3'</span><span class="Other">,</span> <span class="CharLit">'4'</span><span class="Other">,</span> <span class="CharLit">'5'</span><span class="Other">,</span>
                 <span class="CharLit">'6'</span><span class="Other">,</span> <span class="CharLit">'7'</span><span class="Other">,</span> <span class="CharLit">'8'</span><span class="Other">,</span> <span class="CharLit">'9'</span><span class="Other">}</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="UTIME_NOW">
  <dt><pre><a href="posixUt.html#UTIME_NOW"><span class="Identifier">UTIME_NOW</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locUTIME_NOW</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="UTIME_OMIT">
  <dt><pre><a href="posixUt.html#UTIME_OMIT"><span class="Identifier">UTIME_OMIT</span></a> {.<span class="Identifier">inject</span>.} <span class="Other">=</span> <span class="Identifier">locUTIME_OMIT</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>

  </dl>
</div>
<div class="section" id="10">
  <h1><a class="toc-backref" href="#10">Consts</a></h1>
  <dl class="item">
    <div id="AT_EMPTY_PATH">
  <dt><pre><a href="posixUt.html#AT_EMPTY_PATH"><span class="Identifier">AT_EMPTY_PATH</span></a> <span class="Other">=</span> <span class="DecNumber">0x00001000</span></pre></dt>
  <dd>
    
    Allow empty relative pathname
    
  </dd>
</div>
<div id="AT_NO_AUTOMOUNT">
  <dt><pre><a href="posixUt.html#AT_NO_AUTOMOUNT"><span class="Identifier">AT_NO_AUTOMOUNT</span></a> <span class="Other">=</span> <span class="DecNumber">0x00000800</span></pre></dt>
  <dd>
    
    Suppress terminal automount traversal
    
  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="$-procs-all">
  <div id="$,Stat">
  <dt><pre><span class="Keyword">proc</span> <a href="#%24%2CStat"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">st</span><span class="Other">:</span> <span class="Identifier">Stat</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    stdlib automatic <tt class="docutils literal"><span class="pre">$(Stat)</span></tt> broken due to pad0 junk.
    
  </dd>
</div>
<div id="$,Timespec">
  <dt><pre><span class="Keyword">proc</span> <a href="#%24%2CTimespec"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="--procs-all">
  <div id="-,Timespec,Timespec">
  <dt><pre><span class="Keyword">proc</span> <a href="#-%2CTimespec%2CTimespec"><span class="Identifier">`-`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="&lt;-procs-all">
  <div id="<,Timespec,Timespec">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3C%2CTimespec%2CTimespec"><span class="Identifier">`&lt;`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="&lt;=-procs-all">
  <div id="<=,Timespec,Timespec">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3C%3D%2CTimespec%2CTimespec"><span class="Identifier">`&lt;=`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="==-procs-all">
  <div id="==,PathId,PathId">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3D%3D%2CPathId%2CPathId"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="posixUt.html#PathId"><span class="Identifier">PathId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="argHelp-procs-all">
  <div id="argHelp,Timespec,ArgcvtParams">
  <dt><pre><span class="Keyword">proc</span> <a href="#argHelp%2CTimespec%2CArgcvtParams"><span class="Identifier">argHelp</span></a><span class="Other">(</span><span class="Identifier">dfl</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">;</span> <span class="Identifier">a</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="argcvt.html#ArgcvtParams"><span class="Identifier">ArgcvtParams</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="argParse-procs-all">
  <div id="argParse,Timespec,Timespec,ArgcvtParams">
  <dt><pre><span class="Keyword">proc</span> <a href="#argParse%2CTimespec%2CTimespec%2CArgcvtParams"><span class="Identifier">argParse</span></a><span class="Other">(</span><span class="Identifier">dst</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Timespec</span><span class="Other">;</span> <span class="Identifier">dfl</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">;</span> <span class="Identifier">a</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="argcvt.html#ArgcvtParams"><span class="Identifier">ArgcvtParams</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="cmp-procs-all">
  <div id="cmp,Timespec,Timespec">
  <dt><pre><span class="Keyword">proc</span> <a href="#cmp%2CTimespec%2CTimespec"><span class="Identifier">cmp</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="dropPrivilegeTo-procs-all">
  <div id="dropPrivilegeTo,string,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#dropPrivilegeTo%2Cstring%2Cstring"><span class="Identifier">dropPrivilegeTo</span></a><span class="Other">(</span><span class="Identifier">newUser</span><span class="Other">,</span> <span class="Identifier">newGroup</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Change from super-user/root to a less privileged account taking care to also change gid and re-initialize supplementary groups to what /etc/group says.  I.e., like <tt class="docutils literal"><span class="pre">su</span></tt>, but in-process. (Test this works on your system by compiling this module with <tt class="docutils literal"><span class="pre">-d:testDropPriv</span></tt>.)
    
  </dd>
</div>

</div>
<div id="dtNs-procs-all">
  <div id="dtNs,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#dtNs%2Cint"><span class="Identifier">dtNs</span></a><span class="Other">(</span><span class="Identifier">t0</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">clockId</span> <span class="Other">=</span> <span class="Identifier">CLOCK_REALTIME</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Eg.: <tt class="docutils literal"><span class="pre"><span class="Keyword">let</span> <span class="Identifier">t0</span> <span class="Operator">=</span> <span class="Identifier">getTmNs</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">;</span> <span class="Identifier">echo</span> <span class="Identifier">dtNs</span><span class="Punctuation">(</span><span class="Identifier">t0</span><span class="Punctuation">)</span></span></tt>.  Worry of NTP/etc. fiddling with the system clock is addressed by <tt class="docutils literal"><span class="pre"><span class="Identifier">CLOCK_MONOTONIC</span><span class="Operator">.</span><span class="Identifier">getTmNs</span></span></tt>.
    
  </dd>
</div>

</div>
<div id="faccessat-procs-all">
  <div id="faccessat,cint,cstring,cint,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#faccessat%2Ccint%2Ccstring%2Ccint%2Ccint"><span class="Identifier">faccessat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="fchmodat-procs-all">
  <div id="fchmodat,cint,cstring,Mode,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#fchmodat%2Ccint%2Ccstring%2CMode%2Ccint"><span class="Identifier">fchmodat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">Mode</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="fchownat-procs-all">
  <div id="fchownat,cint,cstring,Uid,Gid,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#fchownat%2Ccint%2Ccstring%2CUid%2CGid%2Ccint"><span class="Identifier">fchownat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">owner</span><span class="Other">:</span> <span class="Identifier">Uid</span><span class="Other">;</span> <span class="Identifier">group</span><span class="Other">:</span> <span class="Identifier">Gid</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="fileTime-procs-all">
  <div id="fileTime,Stat,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#fileTime%2CStat%2Cstring"><span class="Identifier">fileTime</span></a><span class="Other">(</span><span class="Identifier">st</span><span class="Other">:</span> <span class="Identifier">Stat</span><span class="Other">;</span> <span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    file time useful in sorting by <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Operator">+-</span><span class="Punctuation">]</span><span class="Punctuation">[</span><span class="Identifier">amcv</span><span class="Punctuation">]</span></span></tt>-time.
    
  </dd>
</div>
<div id="fileTime,Stat,char,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#fileTime%2CStat%2Cchar%2Cint"><span class="Identifier">fileTime</span></a><span class="Other">(</span><span class="Identifier">st</span><span class="Other">:</span> <span class="Identifier">Stat</span><span class="Other">;</span> <span class="Identifier">tim</span><span class="Other">:</span> <span class="Identifier">char</span><span class="Other">;</span> <span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    file time useful in sorting by <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Operator">+-</span><span class="Punctuation">]</span><span class="Punctuation">[</span><span class="Identifier">amcv</span><span class="Punctuation">]</span></span></tt>-time; pre-parsed code.
    
  </dd>
</div>

</div>
<div id="fileTimeParse-procs-all">
  <div id="fileTimeParse,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#fileTimeParse%2Cstring"><span class="Identifier">fileTimeParse</span></a><span class="Other">(</span><span class="Identifier">code</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">tim</span><span class="Other">:</span> <span class="Identifier">char</span><span class="Other">,</span> <span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Parse <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Operator">+-</span><span class="Punctuation">]</span><span class="Punctuation">[</span><span class="Identifier">amcvAMCV</span><span class="Punctuation">]</span><span class="Operator">*</span></span></tt> into file time order specification.  In case default increasing order is non-intuitive, this provides two ways to specify reverse order: leading '-' or upper-casing.  Such reversals compose: &quot;-A&quot; === &quot;a&quot;.
    
  </dd>
</div>

</div>
<div id="findAssociated-procs-all">
  <div id="findAssociated,cstringArray,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#findAssociated%2CcstringArray%2Cstring"><span class="Identifier">findAssociated</span></a><span class="Other">(</span><span class="Identifier">av</span><span class="Other">:</span> <span class="Identifier">cstringArray</span><span class="Other">;</span> <span class="Identifier">parentBase</span> <span class="Other">=</span> <span class="StringLit">&quot;etc/foo&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    First existing of <tt class="docutils literal"><span class="pre"><span class="Identifier">selfDir</span><span class="Operator">/../</span><span class="Identifier">parentBase</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">selfDir</span><span class="Operator">/../../</span><span class="Identifier">parentBase</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">selfDir</span><span class="Operator">/../../../</span><span class="Identifier">parentBase</span></span></tt>, or if none exist <tt class="docutils literal"><span class="pre"><span class="Operator">/</span><span class="Identifier">parentBase</span></span></tt>.
    
  </dd>
</div>

</div>
<div id="fstatat-procs-all">
  <div id="fstatat,cint,cstring,Stat,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#fstatat%2Ccint%2Ccstring%2CStat%2Ccint"><span class="Identifier">fstatat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">stx</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Stat</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="futimens-procs-all">
  <div id="futimens,cint,array[,Timespec]">
  <dt><pre><span class="Keyword">proc</span> <a href="#futimens%2Ccint%2Carray%5B%2CTimespec%5D"><span class="Identifier">futimens</span></a><span class="Other">(</span><span class="Identifier">fd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">times</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">2</span><span class="Other">,</span> <span class="Identifier">Timespec</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">,</span>
    <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="futimesat-procs-all">
  <div id="futimesat,cint,cstring,array[,Timeval]">
  <dt><pre><span class="Keyword">proc</span> <a href="#futimesat%2Ccint%2Ccstring%2Carray%5B%2CTimeval%5D"><span class="Identifier">futimesat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">times</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">2</span><span class="Other">,</span> <span class="Identifier">Timeval</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="getCreationTimeNs-procs-all">
  <div id="getCreationTimeNs,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#getCreationTimeNs%2Cstring"><span class="Identifier">getCreationTimeNs</span></a><span class="Other">(</span><span class="Identifier">path`gensym85</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="getCreationTimeNs,Stat">
  <dt><pre><span class="Keyword">proc</span> <a href="#getCreationTimeNs%2CStat"><span class="Identifier">getCreationTimeNs</span></a><span class="Other">(</span><span class="Identifier">st`gensym85</span><span class="Other">:</span> <span class="Identifier">Stat</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="getDents-procs-all">
  <div id="getDents,cint,Stat,ptr.seq[int8],ptr.seq[Ino],int">
  <dt><pre><span class="Keyword">proc</span> <a href="#getDents%2Ccint%2CStat%2Cptr.seq%5Bint8%5D%2Cptr.seq%5BIno%5D%2Cint"><span class="Identifier">getDents</span></a><span class="Other">(</span><span class="Identifier">fd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">st</span><span class="Other">:</span> <span class="Identifier">Stat</span><span class="Other">;</span> <span class="Identifier">dts</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int8</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span>
              <span class="Identifier">inos</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">Ino</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">avgLen</span> <span class="Other">=</span> <span class="DecNumber">24</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Read open dir <tt class="docutils literal"><span class="pre">fd</span></tt>. If provided, also give <tt class="docutils literal"><span class="pre">d_type</span></tt> and/or <tt class="docutils literal"><span class="pre">d_ino</span></tt> in <tt class="docutils literal"><span class="pre">dts</span></tt> &amp; <tt class="docutils literal"><span class="pre">inos</span></tt> pairing with result strings.  ALWAYS skips &quot;.&quot;, &quot;..&quot;.
    
  </dd>
</div>

</div>
<div id="getgroups-procs-all">
  <div id="getgroups">
  <dt><pre><span class="Keyword">proc</span> <a href="#getgroups"><span class="Identifier">getgroups</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span><span class="Identifier">Gid</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="getgroups,HashSet[Gid]">
  <dt><pre><span class="Keyword">proc</span> <a href="#getgroups%2CHashSet%5BGid%5D"><span class="Identifier">getgroups</span></a><span class="Other">(</span><span class="Identifier">gids</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">HashSet</span><span class="Other">[</span><span class="Identifier">Gid</span><span class="Other">]</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Get all gids active for current process
    
  </dd>
</div>

</div>
<div id="getLastAccTimeNs-procs-all">
  <div id="getLastAccTimeNs,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#getLastAccTimeNs%2Cstring"><span class="Identifier">getLastAccTimeNs</span></a><span class="Other">(</span><span class="Identifier">path`gensym83</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="getLastAccTimeNs,Stat">
  <dt><pre><span class="Keyword">proc</span> <a href="#getLastAccTimeNs%2CStat"><span class="Identifier">getLastAccTimeNs</span></a><span class="Other">(</span><span class="Identifier">st`gensym83</span><span class="Other">:</span> <span class="Identifier">Stat</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="getLastModTimeNs-procs-all">
  <div id="getLastModTimeNs,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#getLastModTimeNs%2Cstring"><span class="Identifier">getLastModTimeNs</span></a><span class="Other">(</span><span class="Identifier">path`gensym84</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="getLastModTimeNs,Stat">
  <dt><pre><span class="Keyword">proc</span> <a href="#getLastModTimeNs%2CStat"><span class="Identifier">getLastModTimeNs</span></a><span class="Other">(</span><span class="Identifier">st`gensym84</span><span class="Other">:</span> <span class="Identifier">Stat</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="getTime-procs-all">
  <div id="getTime">
  <dt><pre><span class="Keyword">proc</span> <a href="#getTime"><span class="Identifier">getTime</span></a><span class="Other">(</span><span class="Identifier">clockId</span> <span class="Other">=</span> <span class="Identifier">CLOCK_REALTIME</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Timespec</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Placeholder to avoid <tt class="docutils literal"><span class="pre"><span class="Identifier">times</span></span></tt> module
    
  </dd>
</div>

</div>
<div id="getTmNs-procs-all">
  <div id="getTmNs">
  <dt><pre><span class="Keyword">proc</span> <a href="#getTmNs"><span class="Identifier">getTmNs</span></a><span class="Other">(</span><span class="Identifier">clockId</span> <span class="Other">=</span> <span class="Identifier">CLOCK_REALTIME</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Eg.: <tt class="docutils literal"><span class="pre"><span class="Keyword">let</span> <span class="Identifier">t0</span> <span class="Operator">=</span> <span class="Identifier">getTmNs</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">;</span> <span class="Keyword">let</span> <span class="Identifier">dt</span> <span class="Operator">=</span> <span class="Identifier">getTmNs</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">-</span> <span class="Identifier">t0</span></span></tt>.  Worry of NTP/etc. fiddling with the system clock is addressed by <tt class="docutils literal"><span class="pre"><span class="Identifier">CLOCK_MONOTONIC</span><span class="Operator">.</span><span class="Identifier">getTmNs</span></span></tt>.
    
  </dd>
</div>

</div>
<div id="groupIds-procs-all">
  <div id="groupIds">
  <dt><pre><span class="Keyword">proc</span> <a href="#groupIds"><span class="Identifier">groupIds</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">,</span> <span class="Identifier">Gid</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Populate <tt class="docutils literal"><span class="pre"><span class="Identifier">Table</span><span class="Punctuation">[</span><span class="Identifier">Id</span><span class="Punctuation">,</span> <span class="Identifier">string</span><span class="Punctuation">]</span></span></tt> with data from system account files
    
  </dd>
</div>

</div>
<div id="groups-procs-all">
  <div id="groups">
  <dt><pre><span class="Keyword">proc</span> <a href="#groups"><span class="Identifier">groups</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><span class="Identifier">Gid</span><span class="Other">,</span> <span class="Identifier">string</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Populate <tt class="docutils literal"><span class="pre"><span class="Identifier">Table</span><span class="Punctuation">[</span><span class="Identifier">Id</span><span class="Punctuation">,</span> <span class="Identifier">string</span><span class="Punctuation">]</span></span></tt> with data from system account files
    
  </dd>
</div>

</div>
<div id="hash-procs-all">
  <div id="hash,PathId">
  <dt><pre><span class="Keyword">proc</span> <a href="#hash%2CPathId"><span class="Identifier">hash</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="posixUt.html#PathId"><span class="Identifier">PathId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="initGroups-procs-all">
  <div id="initGroups,cstring,Gid">
  <dt><pre><span class="Keyword">proc</span> <a href="#initGroups%2Ccstring%2CGid"><span class="Identifier">initGroups</span></a><span class="Other">(</span><span class="Identifier">user</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">group</span><span class="Other">:</span> <span class="Identifier">Gid</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;initgroups&quot;</span><span class="Other">,</span>
    <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;grp.h&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="linkat-procs-all">
  <div id="linkat,cint,cstring,cint,cstring,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#linkat%2Ccint%2Ccstring%2Ccint%2Ccstring%2Ccint"><span class="Identifier">linkat</span></a><span class="Other">(</span><span class="Identifier">olddirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">oldpath</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">newdirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">newpath</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span>
            <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span>
                                 <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="log-procs-all">
  <div id="log,File,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#log%2CFile%2Cstring"><span class="Identifier">log</span></a><span class="Other">(</span><span class="Identifier">f</span><span class="Other">:</span> <span class="Identifier">File</span><span class="Other">;</span> <span class="Identifier">s</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span>
                               <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    This does nothing if <tt class="docutils literal"><span class="pre">f</span></tt> is <tt class="docutils literal"><span class="pre">nil</span></tt>, but otherwise calls <tt class="docutils literal"><span class="pre">write</span></tt>.
    
  </dd>
</div>

</div>
<div id="lstatOk-procs-all">
  <div id="lstatOk,string,ptr.Stat">
  <dt><pre><span class="Keyword">proc</span> <a href="#lstatOk%2Cstring%2Cptr.Stat"><span class="Identifier">lstatOk</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">st</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Stat</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <tt class="docutils literal"><span class="pre">lstat path</span></tt> optionally populating <tt class="docutils literal"><span class="pre">st</span></tt> if non-nil and writing any OS error message to <tt class="docutils literal"><span class="pre">err</span></tt> if non-nil.
    
  </dd>
</div>

</div>
<div id="madvise-procs-all">
  <div id="madvise,pointer,int,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#madvise%2Cpointer%2Cint%2Ccint"><span class="Identifier">madvise</span></a><span class="Other">(</span><span class="Identifier">mem</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">;</span> <span class="Identifier">len</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">advice</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Define briefer/old school <tt class="docutils literal"><span class="pre"><span class="Identifier">madvise</span></span></tt> in terms of the more portable <tt class="docutils literal"><span class="pre"><span class="Punctuation">(</span><span class="Identifier">posix</span><span class="Operator">|</span><span class="Identifier">POSIX</span><span class="Punctuation">)</span><span class="Identifier">_</span></span></tt> constructs.
    
  </dd>
</div>

</div>
<div id="match-procs-all">
  <div id="match,,set[FileKind]">
  <dt><pre><span class="Keyword">proc</span> <a href="#match%2C%2Cset%5BFileKind%5D"><span class="Identifier">match</span></a><span class="Other">(</span><span class="Identifier">m</span><span class="Other">:</span> <span class="Identifier">Mode</span> <span class="Operator">|</span> <span class="Identifier">uint16</span><span class="Other">;</span> <span class="Identifier">kinds</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="posixUt.html#FileKind"><span class="Identifier">FileKind</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span>.}</pre></dt>
  <dd>
    
    true if file with st_mode or stx_mode <tt class="docutils literal"><span class="pre"><span class="Identifier">m</span></span></tt> is one of <tt class="docutils literal"><span class="pre"><span class="Identifier">kinds</span></span></tt>.
    
  </dd>
</div>

</div>
<div id="mkdirat-procs-all">
  <div id="mkdirat,cint,cstring,Mode">
  <dt><pre><span class="Keyword">proc</span> <a href="#mkdirat%2Ccint%2Ccstring%2CMode"><span class="Identifier">mkdirat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">Mode</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">,</span>
    <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="mknodat-procs-all">
  <div id="mknodat,cint,cstring,Mode,Dev">
  <dt><pre><span class="Keyword">proc</span> <a href="#mknodat%2Ccint%2Ccstring%2CMode%2CDev"><span class="Identifier">mknodat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">mode</span><span class="Other">:</span> <span class="Identifier">Mode</span><span class="Other">;</span> <span class="Identifier">dev</span><span class="Other">:</span> <span class="Identifier">Dev</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">,</span>
    <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="nanosleep-procs-all">
  <div id="nanosleep,Timespec">
  <dt><pre><span class="Keyword">proc</span> <a href="#nanosleep%2CTimespec"><span class="Identifier">nanosleep</span></a><span class="Other">(</span><span class="Identifier">delay</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Carefully sleep by amount <tt class="docutils literal"><span class="pre">delay</span></tt>.
    
  </dd>
</div>

</div>
<div id="nice-procs-all">
  <div id="nice,Pid,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#nice%2CPid%2Ccint"><span class="Identifier">nice</span></a><span class="Other">(</span><span class="Identifier">pid</span><span class="Other">:</span> <span class="Identifier">Pid</span><span class="Other">;</span> <span class="Identifier">niceIncr</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Increment nice value/scheduling priority bias of a process/thread.
    
  </dd>
</div>

</div>
<div id="ns-procs-all">
  <div id="ns,Timespec">
  <dt><pre><span class="Keyword">proc</span> <a href="#ns%2CTimespec"><span class="Identifier">ns</span></a><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Signed nanoseconds since origin (usually epoch, but maybe not if <tt class="docutils literal"><span class="pre"><span class="Identifier">t</span></span></tt> comes from <tt class="docutils literal"><span class="pre"><span class="Identifier">CLOCK_MONOTONIC</span></span></tt>); Signed 64bit ints =&gt; +-292 years from 1970.  Eg.: <tt class="docutils literal"><span class="pre"><span class="Keyword">let</span> <span class="Identifier">t0</span> <span class="Operator">=</span> <span class="Identifier">path</span><span class="Operator">.</span><span class="Identifier">getLastModificationTime</span><span class="Operator">.</span><span class="Identifier">ns</span></span></tt>.
    
  </dd>
</div>

</div>
<div id="nsToTimeval-procs-all">
  <div id="nsToTimeval,int64">
  <dt><pre><span class="Keyword">proc</span> <a href="#nsToTimeval%2Cint64"><span class="Identifier">nsToTimeval</span></a><span class="Other">(</span><span class="Identifier">ns</span><span class="Other">:</span> <span class="Identifier">int64</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Timeval</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="openat-procs-all">
  <div id="openat,cint,cstring,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#openat%2Ccint%2Ccstring%2Ccint"><span class="Identifier">openat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">varargs</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">,</span>
    <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="pathId-procs-all">
  <div id="pathId,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#pathId%2Cstring"><span class="Identifier">pathId</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="posixUt.html#PathId"><span class="Identifier">PathId</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="pathToSelf-procs-all">
  <div id="pathToSelf,cstringArray">
  <dt><pre><span class="Keyword">proc</span> <a href="#pathToSelf%2CcstringArray"><span class="Identifier">pathToSelf</span></a><span class="Other">(</span><span class="Identifier">av</span><span class="Other">:</span> <span class="Identifier">cstringArray</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Return the path to the executable of the currently running program.  First this tries to <tt class="docutils literal"><span class="pre"><span class="Identifier">readlink</span> <span class="Operator">/</span><span class="Keyword">proc</span><span class="Operator">/</span><span class="Identifier">PID</span><span class="Operator">/</span><span class="Punctuation">(</span><span class="Identifier">exe</span><span class="Operator">|</span><span class="Identifier">file</span><span class="Punctuation">)</span></span></tt> which is reliable (up to FS dynamics) on Linux | BSDs with /proc mounted .  If that fails &amp; <tt class="docutils literal"><span class="pre"><span class="Operator">$</span><span class="DecNumber">0</span></span></tt> starts with <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Operator">./</span><span class="Punctuation">]</span></span></tt>, just return that.  For full paths starting with <tt class="docutils literal"><span class="pre"><span class="Operator">/</span></span></tt> this is as reliable as /proc unless the invoker plays exec games with <tt class="docutils literal"><span class="pre"><span class="Operator">$</span><span class="DecNumber">0</span></span></tt>.  For <tt class="docutils literal"><span class="pre"><span class="Operator">.</span></span></tt> it relies on no <tt class="docutils literal"><span class="pre"><span class="Identifier">chdir</span></span></tt> between program start &amp; this call.  If <tt class="docutils literal"><span class="pre"><span class="Operator">$</span><span class="DecNumber">0</span></span></tt> starts elsewise, search <tt class="docutils literal"><span class="pre"><span class="Operator">$</span><span class="Identifier">PATH</span></span></tt> for <tt class="docutils literal"><span class="pre"><span class="Operator">$</span><span class="DecNumber">0</span></span></tt> like shells.  Return &quot;&quot; on no match.
    
  </dd>
</div>

</div>
<div id="readFile-procs-all">
  <div id="readFile,string,string,ptr.Stat,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#readFile%2Cstring%2Cstring%2Cptr.Stat%2Cint"><span class="Identifier">readFile</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">st</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Stat</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">perRead</span> <span class="Other">=</span> <span class="DecNumber">4096</span><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Read whole file of unknown (&amp; fstat-non-informative) size using re-usable IO buffer provided.  If <tt class="docutils literal"><span class="pre">st</span></tt> is non-nil then fill it in via <tt class="docutils literal"><span class="pre">fstat</span></tt>.
    
  </dd>
</div>

</div>
<div id="readlink-procs-all">
  <div id="readlink,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#readlink%2Cstring"><span class="Identifier">readlink</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Call POSIX readlink reliably: Start with a nominal size buffer &amp; loop while the answer may have been truncated.  (Could also pathconf(p,PC_PATH_MAX)).
    
  </dd>
</div>

</div>
<div id="readlinkat-procs-all">
  <div id="readlinkat,cint,cstring,cstring,csize">
  <dt><pre><span class="Keyword">proc</span> <a href="#readlinkat%2Ccint%2Ccstring%2Ccstring%2Ccsize"><span class="Identifier">readlinkat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">buf</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">bufsiz</span><span class="Other">:</span> <span class="Identifier">csize</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">clong</span> {.
    <span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="reapAnyKids-procs-all">
  <div id="reapAnyKids,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#reapAnyKids%2Ccint"><span class="Identifier">reapAnyKids</span></a><span class="Other">(</span><span class="Identifier">signo</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span> {.<span class="Identifier">noconv</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Wait on any/only waitable kids; Useful to <tt class="docutils literal"><span class="pre">signal(SIGCHLD, reapAnyKids)</span></tt> to avoid zombies when treating all background children the same is ok.
    
  </dd>
</div>

</div>
<div id="recEntries-procs-all">
  <div id="recEntries,,ptr.Stat,ptr.int8,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#recEntries%2C%2Cptr.Stat%2Cptr.int8%2Cint"><span class="Identifier">recEntries</span></a><span class="Other">(</span><span class="Identifier">it</span><span class="Other">:</span> <span class="Keyword">iterator</span> <span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">st</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Stat</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">dt</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">int8</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span>
                <span class="Identifier">follow</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span> <span class="Identifier">maxDepth</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">iterator</span> <span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Return iterator yielding <tt class="docutils literal"><span class="pre">maxDepth|follow</span></tt> recursive closure of <tt class="docutils literal"><span class="pre">it</span></tt>.
    
  </dd>
</div>

</div>
<div id="rename-procs-all">
  <div id="rename,cstring,cstring">
  <dt><pre><span class="Keyword">proc</span> <a href="#rename%2Ccstring%2Ccstring"><span class="Identifier">rename</span></a><span class="Other">(</span><span class="Identifier">oldpath</span><span class="Other">,</span> <span class="Identifier">newpath</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span>
    <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="renameat-procs-all">
  <div id="renameat,cint,cstring,cint,cstring">
  <dt><pre><span class="Keyword">proc</span> <a href="#renameat%2Ccint%2Ccstring%2Ccint%2Ccstring"><span class="Identifier">renameat</span></a><span class="Other">(</span><span class="Identifier">olddirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">oldpath</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">newdirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">newpath</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="renameat2-procs-all">
  <div id="renameat2,cint,cstring,cint,cstring,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#renameat2%2Ccint%2Ccstring%2Ccint%2Ccstring%2Ccint"><span class="Identifier">renameat2</span></a><span class="Other">(</span><span class="Identifier">olddirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">oldpath</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">newdirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span>
               <span class="Identifier">newpath</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">,</span>
    <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="setGroups-procs-all">
  <div id="setGroups,csize,ptr.Gid">
  <dt><pre><span class="Keyword">proc</span> <a href="#setGroups%2Ccsize%2Cptr.Gid"><span class="Identifier">setGroups</span></a><span class="Other">(</span><span class="Identifier">size</span><span class="Other">:</span> <span class="Identifier">csize</span><span class="Other">;</span> <span class="Identifier">list</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Gid</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;setgroups&quot;</span><span class="Other">,</span>
    <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;grp.h&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="st_inode-procs-all">
  <div id="st_inode,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#st_inode%2Cstring"><span class="Identifier">st_inode</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Ino</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Return just the <tt class="docutils literal"><span class="pre">Stat.st_inode</span></tt> field for a path.
    
  </dd>
</div>

</div>
<div id="stat2dtype-procs-all">
  <div id="stat2dtype,Mode">
  <dt><pre><span class="Keyword">proc</span> <a href="#stat2dtype%2CMode"><span class="Identifier">stat2dtype</span></a><span class="Other">(</span><span class="Identifier">st_mode</span><span class="Other">:</span> <span class="Identifier">Mode</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int8</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Convert S_ISDIR(st_mode) style dirent types to DT_DIR style.
    
  </dd>
</div>

</div>
<div id="statOk-procs-all">
  <div id="statOk,string,ptr.Stat">
  <dt><pre><span class="Keyword">proc</span> <a href="#statOk%2Cstring%2Cptr.Stat"><span class="Identifier">statOk</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">st</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Stat</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <tt class="docutils literal"><span class="pre">stat path</span></tt> optionally populating <tt class="docutils literal"><span class="pre">st</span></tt> if non-nil and writing any OS error message to <tt class="docutils literal"><span class="pre">err</span></tt> if non-nil.
    
  </dd>
</div>

</div>
<div id="strftime-procs-all">
  <div id="strftime,string,Timespec">
  <dt><pre><span class="Keyword">proc</span> <a href="#strftime%2Cstring%2CTimespec"><span class="Identifier">strftime</span></a><span class="Other">(</span><span class="Identifier">fmt</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">ts</span><span class="Other">:</span> <span class="Identifier">Timespec</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Nim wrap strftime &amp; translate <tt class="docutils literal"><span class="pre"><span class="Operator">%</span><span class="Punctuation">[</span><span class="FloatNumber">1.</span><span class="Operator">.</span><span class="DecNumber">9</span><span class="Punctuation">]</span></span></tt> =&gt; '.' &amp; that many tv_nsec digits.
    
  </dd>
</div>

</div>
<div id="symlinkat-procs-all">
  <div id="symlinkat,cstring,cint,cstring">
  <dt><pre><span class="Keyword">proc</span> <a href="#symlinkat%2Ccstring%2Ccint%2Ccstring"><span class="Identifier">symlinkat</span></a><span class="Other">(</span><span class="Identifier">target</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">newdirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">linkpath</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="system-procs-all">
  <div id="system,cstringArray">
  <dt><pre><span class="Keyword">proc</span> <a href="#system%2CcstringArray"><span class="Identifier">system</span></a><span class="Other">(</span><span class="Identifier">csa</span><span class="Other">:</span> <span class="Identifier">cstringArray</span><span class="Other">;</span> <span class="Identifier">wait</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Like system(3) but does fork &amp; exec of an already set up <tt class="docutils literal"><span class="pre">cstringArray</span></tt>. If wait==true, returns status for WEXITSTATUS(); else returns kid pid.
    
  </dd>
</div>

</div>
<div id="toGidSet-procs-all">
  <div id="toGidSet,seq[string]">
  <dt><pre><span class="Keyword">proc</span> <a href="#toGidSet%2Cseq%5Bstring%5D"><span class="Identifier">toGidSet</span></a><span class="Other">(</span><span class="Identifier">strs</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span><span class="Identifier">Gid</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Just parse some ints into typed Gids
    
  </dd>
</div>

</div>
<div id="toUidSet-procs-all">
  <div id="toUidSet,seq[string]">
  <dt><pre><span class="Keyword">proc</span> <a href="#toUidSet%2Cseq%5Bstring%5D"><span class="Identifier">toUidSet</span></a><span class="Other">(</span><span class="Identifier">strs</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span><span class="Identifier">Uid</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Just parse some ints into typed Uids
    
  </dd>
</div>

</div>
<div id="unlinkat-procs-all">
  <div id="unlinkat,cint,cstring,cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#unlinkat%2Ccint%2Ccstring%2Ccint"><span class="Identifier">unlinkat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">,</span>
    <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="userIds-procs-all">
  <div id="userIds">
  <dt><pre><span class="Keyword">proc</span> <a href="#userIds"><span class="Identifier">userIds</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">,</span> <span class="Identifier">Uid</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Populate <tt class="docutils literal"><span class="pre"><span class="Identifier">Table</span><span class="Punctuation">[</span><span class="Identifier">Id</span><span class="Punctuation">,</span> <span class="Identifier">string</span><span class="Punctuation">]</span></span></tt> with data from system account files
    
  </dd>
</div>

</div>
<div id="users-procs-all">
  <div id="users">
  <dt><pre><span class="Keyword">proc</span> <a href="#users"><span class="Identifier">users</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><span class="Identifier">Uid</span><span class="Other">,</span> <span class="Identifier">string</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Populate <tt class="docutils literal"><span class="pre"><span class="Identifier">Table</span><span class="Punctuation">[</span><span class="Identifier">Id</span><span class="Punctuation">,</span> <span class="Identifier">string</span><span class="Punctuation">]</span></span></tt> with data from system account files
    
  </dd>
</div>

</div>
<div id="utimensat-procs-all">
  <div id="utimensat,cint,cstring,array[,Timespec],cint">
  <dt><pre><span class="Keyword">proc</span> <a href="#utimensat%2Ccint%2Ccstring%2Carray%5B%2CTimespec%5D%2Ccint"><span class="Identifier">utimensat</span></a><span class="Other">(</span><span class="Identifier">dirfd</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">cstring</span><span class="Other">;</span> <span class="Identifier">times</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="DecNumber">2</span><span class="Other">,</span> <span class="Identifier">Timespec</span><span class="Other">]</span><span class="Other">;</span>
               <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">importc</span><span class="Other">,</span> <span class="Identifier">header</span><span class="Other">:</span> <span class="StringLit">&quot;&lt;unistd.h&gt;&quot;</span><span class="Other">,</span> <span class="Identifier">sideEffect</span><span class="Other">,</span>
                                    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="15">
  <h1><a class="toc-backref" href="#15">Iterators</a></h1>
  <dl class="item">
    <div id="dirEntries-iterators-all">
  <div id="dirEntries.i,string,ptr.Stat,ptr.bool,ptr.int8">
  <dt><pre><span class="Keyword">iterator</span> <a href="#dirEntries.i%2Cstring%2Cptr.Stat%2Cptr.bool%2Cptr.int8"><span class="Identifier">dirEntries</span></a><span class="Other">(</span><span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">st</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Stat</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">canRec</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span>
                    <span class="Identifier">dt</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">int8</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">;</span> <span class="Identifier">follow</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
                    <span class="Identifier">relative</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>This iterator wraps <tt class="docutils literal"><span class="pre">readdir</span></tt>, optionally filling <tt class="docutils literal"><span class="pre">st[]</span></tt> if it was necessary to read, whether an entry can be recursed upon, and the <tt class="docutils literal"><span class="pre">dirent d_type</span></tt> in <tt class="docutils literal"><span class="pre">dt[]</span></tt> (or if unavailable <tt class="docutils literal"><span class="pre">DT_UNKNOWN</span></tt>).  OS error messages are sent to File <tt class="docutils literal"><span class="pre">err</span></tt> (which can be <tt class="docutils literal"><span class="pre">nil</span></tt>).  Yielded paths are relative to <tt class="docutils literal"><span class="pre">dir</span></tt> iff.  <tt class="docutils literal"><span class="pre">relative</span></tt> is true.</p>
<p><tt class="docutils literal"><span class="pre">follow</span></tt> is for the mode where outer, recursive iterations want to chase symbolic links to dirs.  <tt class="docutils literal"><span class="pre">st[]</span></tt> is filled only if needed to compute <tt class="docutils literal"><span class="pre">canRec</span></tt>.  <tt class="docutils literal"><span class="pre">lstat</span></tt> is used only if <tt class="docutils literal"><span class="pre">not follow and dt[]==DT_UNKNOWN</span></tt>) else <tt class="docutils literal"><span class="pre">stat</span></tt> is used.  If <tt class="docutils literal"><span class="pre">dt[]==DT_DIR</span></tt> then only <tt class="docutils literal"><span class="pre">st_ino</span></tt> is assigned.  Callers can detect if <tt class="docutils literal"><span class="pre">st</span></tt> was filled by <tt class="docutils literal"><span class="pre">st_nlink &gt; 0</span></tt>.</p>

    
  </dd>
</div>

</div>
<div id="paths-iterators-all">
  <div id="paths.i,seq[string],int,string,char,ptr.Stat,ptr.int8">
  <dt><pre><span class="Keyword">iterator</span> <a href="#paths.i%2Cseq%5Bstring%5D%2Cint%2Cstring%2Cchar%2Cptr.Stat%2Cptr.int8"><span class="Identifier">paths</span></a><span class="Other">(</span><span class="Identifier">roots</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">maxDepth</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">follow</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span> <span class="Identifier">file</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">delim</span> <span class="Other">=</span> <span class="CharLit">'\n'</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">;</span> <span class="Identifier">st</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Stat</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span>
               <span class="Identifier">dt</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">int8</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    iterator for maybe-following, maybe-recursive closure of the union of <tt class="docutils literal"><span class="pre"><span class="Identifier">roots</span></span></tt> and optional <tt class="docutils literal"><span class="pre"><span class="Identifier">delim</span></span></tt>-delimited input <tt class="docutils literal"><span class="pre"><span class="Identifier">file</span></span></tt> (stdin if &quot;-&quot; | if &quot;&quot; &amp; stdin not a tty).  Usage is <tt class="docutils literal"><span class="pre"><span class="Keyword">for</span> <span class="Identifier">p</span> <span class="Keyword">in</span> <span class="Identifier">paths</span><span class="Punctuation">(</span><span class="Identifier">roots</span><span class="Punctuation">,</span><span class="Operator">...</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">echo</span> <span class="Identifier">p</span></span></tt>. This allows fully general path input if used in a command pipeline like <tt class="docutils literal"><span class="pre"><span class="Identifier">find</span> <span class="Operator">.</span> <span class="Operator">-</span><span class="Identifier">print0</span> <span class="Operator">|</span> <span class="Identifier">cmd</span> <span class="Operator">-</span><span class="Identifier">d</span><span class="Operator">\\</span><span class="DecNumber">0</span></span></tt> (where <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="Identifier">d</span></span></tt> sets <tt class="docutils literal"><span class="pre"><span class="Identifier">delim</span></span></tt>).
    
  </dd>
</div>

</div>
<div id="recEntries-iterators-all">
  <div id="recEntries.i,string,ptr.Stat,ptr.int8,int">
  <dt><pre><span class="Keyword">iterator</span> <a href="#recEntries.i%2Cstring%2Cptr.Stat%2Cptr.int8%2Cint"><span class="Identifier">recEntries</span></a><span class="Other">(</span><span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">st</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Stat</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">dt</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">int8</span> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span>
                    <span class="Identifier">follow</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span> <span class="Identifier">maxDepth</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">err</span> <span class="Other">=</span> <span class="Identifier">stderr</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    This recursively yields all paths in the FS tree up to <tt class="docutils literal"><span class="pre">maxDepth</span></tt> levels beneath <tt class="docutils literal"><span class="pre">dir</span></tt> or without bound for <tt class="docutils literal"><span class="pre">maxDepth==0</span></tt>. If <tt class="docutils literal"><span class="pre">follow</span></tt> then recursion follows symbolic links to dirs. If <tt class="docutils literal"><span class="pre">err!=nil</span></tt> then OS error messages are written there.  Unlike the stdlib <tt class="docutils literal"><span class="pre">walkDirRec</span></tt>, in addition to a <tt class="docutils literal"><span class="pre">maxDepth</span></tt> limit, following here avoids infinite symLink loops. If provided pointers are non-nil then they are filled like <tt class="docutils literal"><span class="pre">dirEntries</span></tt>. Example:<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">st</span><span class="Punctuation">:</span> <span class="Identifier">Stat</span><span class="Punctuation">;</span> <span class="Keyword">var</span> <span class="Identifier">sum</span> <span class="Operator">=</span> <span class="DecNumber">0</span>      <span class="Comment">#`du` 1st &amp; 2nd level under &quot;.&quot; only</span>
<span class="Keyword">for</span> <span class="Identifier">path</span> <span class="Keyword">in</span> <span class="Identifier">recEntries</span><span class="Punctuation">(</span><span class="StringLit">&quot;.&quot;</span><span class="Punctuation">,</span> <span class="Identifier">st</span><span class="Operator">.</span><span class="Keyword">addr</span><span class="Punctuation">,</span> <span class="Identifier">follow</span><span class="Operator">=</span><span class="Identifier">true</span><span class="Punctuation">,</span> <span class="Identifier">recurse</span><span class="Operator">=</span><span class="DecNumber">2</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Keyword">if</span> <span class="Identifier">st</span><span class="Operator">.</span><span class="Identifier">st_nlink</span> <span class="Operator">==</span> <span class="DecNumber">0</span> <span class="Keyword">and</span> <span class="Keyword">not</span> <span class="Identifier">statOk</span><span class="Punctuation">(</span><span class="Identifier">path</span><span class="Punctuation">,</span> <span class="Identifier">st</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">stderr</span><span class="Operator">.</span><span class="Identifier">write</span> <span class="StringLit">&quot;err</span><span class="EscapeSequence">\n</span><span class="StringLit">&quot;</span>
  <span class="Identifier">sum</span> <span class="Operator">+=</span> <span class="Identifier">st_blocks</span> <span class="Operator">*</span> <span class="DecNumber">512</span></pre>
    
  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="18">
  <h1><a class="toc-backref" href="#18">Templates</a></h1>
  <dl class="item">
    <div id="impCint-templates-all">
  <div id="impCint.t,string,untyped">
  <dt><pre><span class="Keyword">template</span> <a href="#impCint.t%2Cstring%2Cuntyped"><span class="Identifier">impCint</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span> {.<span class="Identifier">dirty</span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="impConst-templates-all">
  <div id="impConst.t,untyped,string,untyped">
  <dt><pre><span class="Keyword">template</span> <a href="#impConst.t%2Cuntyped%2Cstring%2Cuntyped"><span class="Identifier">impConst</span></a><span class="Other">(</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span> {.<span class="Identifier">dirty</span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="impConstAs-templates-all">
  <div id="impConstAs.t,untyped,string,,">
  <dt><pre><span class="Keyword">template</span> <a href="#impConstAs.t%2Cuntyped%2Cstring%2C%2C"><span class="Identifier">impConstAs</span></a><span class="Other">(</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">nimName</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span> {.<span class="Identifier">dirty</span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="localAlloc-templates-all">
  <div id="localAlloc.t,,typedesc">
  <dt><pre><span class="Keyword">template</span> <a href="#localAlloc.t%2C%2Ctypedesc"><span class="Identifier">localAlloc</span></a><span class="Other">(</span><span class="Identifier">param</span><span class="Other">;</span> <span class="Identifier">typ</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">)</span> {.<span class="Identifier">dirty</span>.}</pre></dt>
  <dd>
    
    One often wants to allow auxiliary data that may or may not be discovered as part of an operation to be returned optionally.  One convenient pattern for this in Nim is accepting a <tt class="docutils literal"><span class="pre">ptr T</span></tt> which can be <tt class="docutils literal"><span class="pre">nil</span></tt> when the caller does not want the auxiliary data.  Routines using this pattern define local space but only use its addr if callers provide none, as in <tt class="docutils literal"><span class="pre">var loc; let par = if par == nil: loc.addr else par</span></tt>.  This template abstracts that away to simply <tt class="docutils literal"><span class="pre">localAlloc(par, parTypeLessPtr)</span></tt>.
    
  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2023-07-29 14:12:22 UTC</small>
      </div>
    </div>
  </div>
  
  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>
</body>
</html>
